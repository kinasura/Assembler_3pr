; Простая тестовая программа для проверки интерпретатора
; Тестирует основные команды, включая отрицательные числа

; 1. Загружаем константы в регистры (включая отрицательные)
158,123,0     ; R0 = 123
158,-456,1    ; R1 = -456
158,789,2     ; R2 = 789

; 2. Записываем значения регистров в память
12,0,0        ; memory[R0] = R0 (memory[123] = 123)
12,1,1        ; memory[R1] = R1 (memory[-456] - но адрес не может быть отрицательным!)
               ; Это ошибка! Адрес должен быть положительным.
               ; Исправим: сначала загрузим положительный адрес

; Исправленный вариант:
158,500,3     ; R3 = 500 (положительный адрес)
12,3,0        ; memory[500] = R0 (123)
158,501,4     ; R4 = 501
12,4,1        ; memory[501] = R1 (-456)

; 3. Читаем из памяти обратно в другие регистры
17,500,5      ; R5 = memory[500] (должно быть 123)
17,501,6      ; R6 = memory[501] (должно быть -456)

; 4. Тестируем команду ABS с отрицательным числом
158,-100,7    ; R7 = -100
158,600,8     ; R8 = 600 (адрес для записи)
214,0,8,7     ; memory[R8+0] = abs(R7) (memory[600] = 100)

; 5. Тестируем команду ABS с положительным числом
158,200,9     ; R9 = 200
158,601,10    ; R10 = 601
214,0,10,9    ; memory[R10+0] = abs(R9) (memory[601] = 200)

; 6. Тестируем команду ABS с отрицательным смещением
158,-50,11    ; R11 = -50
158,700,12    ; R12 = 700
214,-10,12,11 ; memory[R12-10] = abs(R11) (memory[690] = 50)