; Программа копирования массива
; Тестирует команды чтения и записи в память

; Инициализация: задаем адреса и размер
158,1000,0    ; R0 = 1000 (адрес источника)
158,2000,1    ; R1 = 2000 (адрес назначения)
158,10,2      ; R2 = 10 (размер массива)

; Основной цикл копирования
158,0,3       ; R3 = 0 (счетчик)

; Метка LOOP:
; Читаем из источника
12,0,3        ; memory[R0] = R3 (записываем счетчик в источник для теста)
17,1000,4     ; R4 = memory[1000] (читаем из источника)
12,1,4        ; memory[R1] = R4 (записываем в назначение)

; Увеличиваем адреса и счетчик
158,1,5       ; R5 = 1
12,0,5        ; memory[R0] = R5 (увеличиваем значение по адресу источника на 1)
158,1,6       ; R6 = 1
12,1,6        ; memory[R1] = R6 (увеличиваем значение по адресу назначения на 1)

; Увеличиваем счетчик
158,1,7       ; R7 = 1
12,3,7        ; memory[R3] = R7 (увеличиваем счетчик на 1)

; Проверяем условие цикла
17,1000,8     ; R8 = memory[1000] (текущее значение)
17,1009,9     ; R9 = memory[1009] (последний элемент)

; В реальной программе здесь была бы условная ветвь,
; но так как у нас нет команд перехода, делаем фиксированное число итераций

; Просто выполняем 10 итераций и завершаем